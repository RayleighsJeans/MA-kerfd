%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%            BEAMER THEME UNI GREIFSWALD2          %%%%             
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Editor: Tino Soll, 2016
% Beamer Theme nach den Vorgaben des Corporate Designs der 
% Ernst-Moritz-Arndt-Universität Greifswald

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%                     COLOR THEME                 %%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Das outer theme Sidebar wird benötigt, um die seitliche Navigationsleiste bereitzu stellen
\useoutertheme[left,width=2cm]{sidebar}
% Die Kopfzeile auf "leer" gesetzt, damit kein unschöner weißer Streifen am oberen Folienrand auftaucht
\setbeamertemplate{headline}{}

% LaTeX-Paket für Farben
\RequirePackage{xcolor}

% Der Hauptfarbakzent "main" der Präsentation entspricht der Farbe der 
% entsprechenden Fakultät bzw. Insitution
%
% Fakultät/Insitutiton				RGB-Code der Farbe
%-----------------------------------------------------
% Mathematisch-Naturwissen-			
% schaftliche Fakultät				0 , 100 , 174
%
% Philosophische Fakultät			0 ,  48 , 100
% 
% Rechts- und Staatswissen-			
% schaftliche Fakultät				140 , 25 , 44
%
% Theologische Fakultät				87 , 40 , 98
%
% Rektorat / Verwaltung				145 , 150 , 118
%
\definecolor{main}{RGB}{0 , 100 , 174}
\setbeamercolor*{structure}{fg=main}

% Als Textfarbe ist ein dunkler Grauton vorgesehen
\definecolor{textcolor}{RGB}{64,64,64}
\setbeamercolor*{normal text}{fg=textcolor}

% Farben für sie seitliche Navigationsleiste (Sidebar)
% Der Titel des jeweils aktuellen Abschnitts erscheint in der Hauptfarbe
\setbeamercolor{palette sidebar secondary}{fg=main}
% Die Titel der Abschnitte, die auf der aktuellen Folie nicht aktiv sind, werden mit einer
% blasseren Variante der Hauptfarbe angezeigt
\setbeamercolor{section in sidebar shaded}{fg=main!60}
% Unterabschnitte erscheinen in der Textfarbe, wenn sie aktiv sind und grau, wenn sie inaktiv sind
\setbeamercolor{subsection in sidebar}{fg=textcolor}
\setbeamercolor{subsection in sidebar shaded}{fg=textcolor!50}


% weitere Farbdefinitionen:
% Grün für exampleblocks und example text
\definecolor{exgreen}{RGB}{41,132,61} 
\setbeamercolor*{example text}{fg=exgreen}

% heller Grauton zum "Mischen" der Farbe der blocks
\definecolor{block_body}{rgb}{0.96,0.96,0.96}

% Farbe des Folientitels ist Hauptfarbe
\setbeamercolor*{frametitle}{fg = main}

% alerted text erscheint in rot
\setbeamercolor*{alerted text}{fg=red}

% Blöcke (Benutzt für Theoreme, Definitionen, etc) bekommen ebenfalls die 
% Hauptfarbe als Farbakzent
\setbeamercolor*{block title}{bg=main!20,fg=main}
\setbeamercolor*{block body}{bg=main!7!block_body,fg=textcolor}

% "alert"-Blöcke und "example"-Blöcke erscheinen gewohnt in rot bzw. grün
\setbeamercolor*{block title alerted}{bg=red!20,fg=red}
\setbeamercolor*{block body alerted}{bg=red!7!block_body,fg=textcolor}
\setbeamercolor*{block title example}{bg=exgreen!20,fg=exgreen}
\setbeamercolor*{block body example}{bg=exgreen!7!block_body,fg=textcolor}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%              BEAMER INNER AND OUTER THEME            %%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%   Auswahl der Schriftart in Abhängigkeit vom benutzten Compiler  %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Wenn LuaLaTeX oder XeLaTeX für die Komplilierung benutzt wird, 
% ist die Hauptschriftart auf "Arial" gesetzt, da nur diese Compiler
% das Paket fonspec unterstützen, mit dem man eine beliebige installierte 
% Schriftart auswählen kann.
% Wird ein anderer Compiler verwendet (z.B. PdfLaTex), wird die Schriftart auf
% die ähnlich aussehende Schriftart "Helvetica" gesetzt.
% Mathematische Formeln erscheinen weiterhin in der Serifenschrift
\ifluatex % Fall: LuaTeX 
\RequirePackage{fontspec}
\setmainfont{Arial}
\usefonttheme[mathonly]{serif}
\else 
\ifxetex % Fall: XeLaTeX
\RequirePackage{fontspec}
\setmainfont{Arial}
\usefonttheme[mathonly]{serif}
\else % Fall: Sonstige Compiler
\RequirePackage{helvet}
\renewcommand{\familydefault}{\sfdefault}
\fontfamily{phv}\selectfont
% Pakete zur Verwendung von ß,ä,ö,ü,...
\RequirePackage[utf8]{inputenc}
\fi 
\fi
\renewcommand\mathfamilydefault{\rmdefault}


% Linker und Rechter Rand
\setbeamersize{text margin left=0.5cm,text margin right=.5cm}

% Die LaTeX-eigenen Navigationssysmbole sind deaktiviert
\setbeamertemplate{navigation symbols}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%   Seitennavigation/Sidebar  %%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Die Navigationsleiste erscheint mittig am linken Folienrand
\setbeamertemplate{sidebar left}
{
\vfill
      \insertverticalnavigation{18mm}%
\vfill
}
% Schriftgröße der Unterabschnitte in der Sidebar ist die gleiche wie für die Abschnitte
% (ohne diese Zeile werden diese noch kleiner dargestellt und sind schlecht lesbar)
\setbeamerfont{subsection in sidebar}{size=\tiny}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%   Folienhintergrund       %%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Benötigte Pakete für die Einbindung und Positionierung der Hintergrundgrafiken und Schatten
% bei dem Hintergrundelement
%
\RequirePackage{tikz}
\usetikzlibrary{positioning}
\usetikzlibrary{shadows.blur}
\RequirePackage{calc}
%
% Der Hindergrund beinhaltet das Unilogo in der oberen rechten Ecke und den Hintergrund der
% seitlichen Navigationsleiste (Sidebar)
%
\setbeamertemplate{background}%
{%
	\tikz[overlay,remember picture]{ 
		\draw[fill = main!25,main!25] (0,-10) 	rectangle (.5\paperwidth,1.\paperheight);
		\draw[fill=white,white,drop shadow = {shadow xshift = -.1ex, shadow yshift = -0.3ex}] (current page.center) 
%		(1.6\paperheight,-.5\paperheight)	 circle (1.4\paperheight);
%    	(3.2\paperheight,-.5\paperheight)	 circle (3.\paperheight);     
    	(29,-.5\paperheight)	 circle (27cm); 
	\draw[fill = white,white] (20,-10) rectangle (.3\paperwidth,1.\paperheight);
	\node[at=(current page.north east)] (upperright) {};
	\node[below left= 0.015\paperheight and 0.025\paperheight of upperright] {
            \includegraphics[height=.105\paperheight]{greifswald_logo.png}
        };
	}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%        Fußzeile         %%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Text in der Fußzeile in der Hauptakzentfarbe
\setbeamercolor*{footline}{fg = main}
\setbeamercolor*{rule}{bg = main}
% Länge des Fußzeilenmittelteils in Abhängigkeit von der Folienbreite
\newlength\footlinemid
\setlength{\footlinemid}{1.\paperwidth}
\addtolength{\footlinemid}{-3.2cm} % Datum und Foliennummer haben addiert die feste Breite von 3.2cm

% Befehl zur Anpassung der Informationen in der Fußzeile:
\newcommand{\footlineinfo}{
	\insertshortauthor \ (\insertshortinstitute) : \ \insertshorttitle
}
    
% Die Informationen in der Fußzeile können mit 
%\renewcommand{\footlineinfo}{<neue Infos>} 
% im Dokument überschireben werden.

% Die Fußzeile beinhaltet links das Datum (Kurzform), die "footlineinfo" und die Nummer der Folie    
\setbeamertemplate{footline}
{
% Eine Linie in der Hauptfarbe
\vbox{
   \begin{beamercolorbox}[wd=1.\paperwidth,ht=.3mm]{rule}\end{beamercolorbox}%
}
% Datum, \footlineinfo und Foliennummer
  \hbox{%
\begin{beamercolorbox}[wd=2.5cm,ht=2.75ex,dp=1.25ex,center]{footline}%
     \usebeamerfont{date in head/foot}\insertshortdate{}
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=\footlinemid,ht=2.75ex,dp=1.25ex,left]{footline}%
    \hspace{0.2cm}\usebeamerfont{author in head/foot}
	\footlineinfo
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=0.7cm,ht=2.75ex,dp=1.25ex,center]{footline}%
    \usebeamerfont{title in head/foot}%\insertsubsection
    \insertframenumber{} %/  \inserttotalframenumber 
     \hspace*{2ex} 
  \end{beamercolorbox}%
  }%
  \vskip0pt%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%         Folientitel          %%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%
% Der Folientitel ist in Größe "\Large" und der Folienuntertitel in "\normalsize"
\setbeamerfont{frametitle}{size=\Large}
\setbeamerfont{framesubtitle}{size=\normalsize}
% Der Folientitel liegt etwas unter dem Folienrand und ist unterstrichen, der Untertitel
% steht (sofern er gesetzt ist) im Abstand von 5pt darunter
\setbeamertemplate{frametitle}{
	\vskip0.045\paperheight
	\usebeamerfont{frametitle}\underline{\insertframetitle} \\[5pt]
	\usebeamerfont{framesubtitle}\insertframesubtitle
}

% Nummerierungsstil des Inhaltsverzeichnisses
\setbeamertemplate{section in toc}[sections numbered]
\setbeamertemplate{subsection in toc}{\footnotesize \textcolor{structure}{\hspace{2ex}  $-$\hspace{1ex}  \inserttocsubsection }\par}


% Erscheinungsbild der Block-Strukturen, die u.a. für Mathematik-Umgebungen
% wie Sätze, Definitionen, etc. benutzt werden
\setbeamertemplate{blocks}[rounded][shadow=false]  

% Stil von Aufzählungen (ohne Nummerierung):
\setbeamertemplate{enumerate item}{\textcolor{textcolor}{\arabic{enumi}.}}
\setbeamertemplate{enumerate subitem}{\textcolor{textcolor}{\arabic{enumi}.\arabic{enumii}}}
\setbeamertemplate{enumerate subsubitem}{\textcolor{textcolor}{\arabic{enumi}.\arabic{enumii}.\arabic{enumiii}}}

% Stil von nummererierten Aufzählungen
\setbeamertemplate{itemize item}{\raisebox{.4ex}{\scriptsize\textcolor{textcolor}{$\bullet$}}}
\setbeamertemplate{itemize subitem}{\raisebox{0.2ex}{\textcolor{textcolor}{$-$}}}
\setbeamertemplate{itemize subsubitem}{\raisebox{.4ex}{\tiny\textcolor{textcolor}{$\bullet$}}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%       Titlfolie      %%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 
%Schriftgrößen der Daten auf der Titelfolie
\setbeamerfont{title}{size=\LARGE}
\setbeamerfont{subtitle}{size=\large}
\setbeamerfont{author}{size=\large}
\setbeamerfont{institute}{size=\scriptsize}
\setbeamerfont{date}{size=\footnotesize}
%
% Aufbau der Titelfolie
\setbeamertemplate{title page}
{ 
%Abstand zum oberen Rand der Folie
\vspace{0.23\paperheight}
% Alle Angaben zentrieren
\begin{center}
% Titel und Untertitel in der Hauptakzentfarbe mit 8pt Abstand
{\bf \usebeamerfont{title}\textcolor{main} \inserttitle}    \\[8pt]
{\usebeamerfont{subtitle}\textcolor{main}\insertsubtitle}

\bigskip
% Vortragender/Autor(en)
{\usebeamerfont{author} \insertauthor}

\bigskip
% Institution
{\usebeamerfont{institute} \insertinstitute}

\bigskip\bigskip
% Datum/Konferenz/Anlass
\usebeamerfont{date}\insertdate
\end{center}
}

\mode<all>
